/* Force the avatar image to render as a centered circle */
/* Try common theme avatar selectors first */
img.site-avatar, img.avatar, .site-author-image img, .author-info .avatar img {
  width: 160px;
  height: 160px;
  border-radius: 50%;
  object-fit: cover;            /* center crop */
  object-position: 50% 55%; /* move image up ~20% (show lower area) */
  animation: none !important;   /* 默认不旋转，覆盖主题样式 */
  transform: none !important;
  will-change: transform;
  display: block;               /* center horizontally */
  margin: 0 auto;
}

/* Fallback: target the specific file path (png) */
img[src$="/img/portrait.png"], img[src*="/img/portrait.png"] {
  width: 160px;
  height: 160px;
  border-radius: 50%;
  object-fit: cover;
  object-position: 50% 55%;
  animation: none !important;
  transform: none !important;
  will-change: transform;
  display: block;
  margin: 0 auto;
}

/* 悬停时才旋转 */
@keyframes avatar-spin { to { transform: rotate(360deg); } }
img.site-avatar:hover, img.avatar:hover, .site-author-image img:hover, .author-info .avatar img:hover,
img[src$="/img/portrait.png"]:hover, img[src*="/img/portrait.png"]:hover {
  animation: avatar-spin 1.2s linear infinite !important;
}

/* 强力覆盖主题可能的默认旋转（容器或图片）与过渡 */
html body .avatar-img,
html body .avatar-img img,
html body .site-author-image,
html body .site-author-image img,
html body .author-info .avatar,
html body .author-info .avatar img,
html body img.site-avatar,
html body img.avatar {
  animation: none !important;
  transform: none !important;
  transition: none !important;
}

/* 容器悬停也触发旋转（兼容不同 DOM 结构） */
html body .avatar-img:hover img,
html body .site-author-image:hover img,
html body .author-info .avatar:hover img {
  animation: avatar-spin 1.2s linear infinite !important;
}

/* 更强的覆盖：如果旋转应用在容器上（而不是 img），也禁用默认旋转 */
.site-author-image, .avatar-img, .avatar, .site-avatar {
  animation: none !important;
  transform: none !important;
}

/* 容器悬停时，让里面的 img 旋转（兼容主题结构） */
.site-author-image:hover img,
.avatar-img:hover img,
.site-avatar:hover img,
.author-info .avatar:hover img {
  animation: avatar-spin 1.2s linear infinite !important;
}

/* 最终覆盖：确保 hover 时一定旋转（包含 img 直接悬停的情况），放在文件末尾以压过上面的禁用规则 */
html body img.site-avatar:hover,
html body img.avatar:hover,
html body .site-author-image:hover img,
html body .avatar-img:hover img,
html body .author-info .avatar:hover img,
html body img[src$="/img/portrait.png"]:hover,
html body img[src*="/img/portrait.png"]:hover {
  animation: avatar-spin 1.2s linear infinite !important;
  transition: none !important;
}
